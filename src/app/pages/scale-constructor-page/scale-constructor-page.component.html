<div class="container">
  <!--    ПОЛЯ-АНКЕТЫ (name, description) ОБЯЗАТЕЛЬНЫЕ НЕИЗМЕНЯЕМЫЕ ПОЛЯ-->
  <div *ngIf="interpretation$ | async; else loading">
    <form [formGroup]="interpretationFormGroup">
      <tui-island
        class="tui-space_bottom-5"
        [hoverable]=false
        size="l"
        textAlign="left"
      >
        <tui-textarea
          class="tui-space_bottom-5"
          tuiTextfieldSize="l"
          formControlName="description"
        >
          Пояснение
          <textarea
            maxlength="97"
            placeholder="Пояснение"
            tuiTextfield
          ></textarea>
        </tui-textarea>
        <tui-input-number
          class="b-form"
          formControlName="minValue"
        >
          Минимальное
        </tui-input-number>
        <tui-input-number
          class="b-form"
          formControlName="maxValue"
        >
          Максимальное
        </tui-input-number>

        <label class="tui-space_bottom-5">
          <tui-toggle
            size="l"
            class="tui-space_right-2"
            [(ngModel)]="selectedScale"
            [ngModelOptions]="{standalone: true}"
          ></tui-toggle>
          <tui-combo-box
            formControlName="scaleId"
            [stringify]="scaleChooseStringify"
            [tuiTextfieldLabelOutside]="true"
          >
            Шкала
            <tui-data-list-wrapper
              *tuiDataList
              [itemContent]="scaleChooseStringify | tuiStringifyContent"
              [items]="scaleItems$ | async| tuiFilterByInputWith: scaleChooseStringify"
            ></tui-data-list-wrapper>
          </tui-combo-box>
        </label>
        <div formGroupName="scaleId">
          <ng-template *ngIf="selectedScale">
            <tui-textarea
              class="tui-space_bottom-5"
              tuiTextfieldSize="l"
              formControlName="name"
            >
              Название
              <textarea
                maxlength="97"
                placeholder="Название"
                tuiTextfield
              ></textarea>
            </tui-textarea>
            <tui-textarea
              class="tui-space_bottom-5"
              tuiTextfieldSize="l"
              formControlName="description"
            >
              Описание
              <textarea
                maxlength="97"
                placeholder="Описание"
                tuiTextfield
              ></textarea>
            </tui-textarea>
          </ng-template>
        </div>
      </tui-island>

      <ng-template #defaultScale>
        <!--       component with default data -->
      </ng-template>
      <div class="group" tuiGroup>
        <button
          tuiButton
          size="xl"
          class=""
          type="submit"
          (click)="onSubmit()"
        >
          Сохранить
        </button>
      </div>

    </form>
  </div>
  <ng-template #loading>
    <app-loading></app-loading>
  </ng-template>

  <!--    ВОПРОС-КОНСТРУКТОР НЕОБЯЗАТЕЛЬНЫЕ ИЗМЕНЯЕМЫЕ ПОЛЯ -->

</div>

