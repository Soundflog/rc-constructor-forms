<div class="container">
  <!--    ПОЛЯ-АНКЕТЫ (name, description) ОБЯЗАТЕЛЬНЫЕ НЕИЗМЕНЯЕМЫЕ ПОЛЯ-->
  <form [formGroup]="formGroup" (ngSubmit)="onSubmitForm()">
    <tui-island
      class="tui-space_bottom-5"
      [hoverable]=false
      size="l"
      textAlign="left">
      <div *ngFor="let rfield of requestedFields; let i = index">
        <tui-textarea
          class="tui-space_bottom-5"
          [tuiTextfieldSize]="rfield.size"
          formControlName="{{rfield.name}}">
          {{ rfield.label }}
          <textarea
            maxlength="97"
            placeholder="{{rfield.label}}"
            tuiTextfield
          ></textarea>
        </tui-textarea>
      </div>
    </tui-island>
  </form>
  <!--    ВОПРОС-КОНСТРУКТОР НЕОБЯЗАТЕЛЬНЫЕ ИЗМЕНЯЕМЫЕ ПОЛЯ -->
  <form [formGroup]="questionFormGroup" (ngSubmit)="onSubmit()">
    <div *ngFor="let field of fields; let i = index">
      <tui-island
        class="tui-space_bottom-5"
        [hoverable]=false
        size="l"
        textAlign="left"
      >
        <tui-textarea
          [tuiTextfieldCleaner]=true
          [tuiTextfieldSize]="field.size"
          formControlName="{{field.name}}"
        >
          {{ field.label }}
          <textarea
            maxlength="97"
            placeholder="{{field.label}}"
            tuiTextfield
            #input
          ></textarea>
        </tui-textarea>
        <!-- Меню справа от поля -->
        <div *ngIf="input.host.focusable" style="position: relative;">
          <div style="position: absolute; top: 100%; left: 0; font-size: 12px; color: #777;">
            <button >Кнопка 1</button>
            <button >Кнопка 2</button>
          </div>
        </div>
        <!--        Нижняя панель управления вопросом - Компонент-->
        <div tuiGroup class="group" [collapsed]="true">
          <button
            appearance="outline"
            tuiButton
            size="s"
            (click)="addField()"
          >
            Добавить
          </button>
          <button
            appearance="outline"
            tuiButton
            size="s"
            (click)="removeField(i)"
          >
            Удалить
          </button>
        </div>
      </tui-island>
    </div>
    <button
      tuiButton
      size="xl"
      type="submit"
      (click)="onSubmit()"
    >
      Сохранить
    </button>
  </form>
</div>
